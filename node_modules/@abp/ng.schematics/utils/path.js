"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.relativePathToModel = exports.relativePathToEnum = void 0;
const core_1 = require("@angular-devkit/core");
const text_1 = require("./text");
function relativePathToEnum(namespace, enumNamespace, enumName) {
    const path = calculateRelativePath(namespace, enumNamespace);
    return path + `/${text_1.kebab(enumName)}.enum`;
}
exports.relativePathToEnum = relativePathToEnum;
function relativePathToModel(namespace, modelNamespace) {
    const path = calculateRelativePath(namespace, modelNamespace);
    return path + '/models';
}
exports.relativePathToModel = relativePathToModel;
function calculateRelativePath(ns1, ns2) {
    if (ns1 === ns2)
        return '.';
    const parts1 = ns1 ? ns1.split('.') : [];
    const parts2 = ns2 ? ns2.split('.') : [];
    while (parts1.length && parts2.length) {
        if (parts1[0] !== parts2[0])
            break;
        parts1.shift();
        parts2.shift();
    }
    const up = '../'.repeat(parts1.length) || '.';
    const down = parts2.reduce((acc, p) => acc + '/' + core_1.strings.dasherize(p), '');
    return removeTrailingSlash(removeDoubleSlash(up + down));
}
function removeDoubleSlash(path) {
    return path.replace(/\/{2,}/g, '/');
}
function removeTrailingSlash(path) {
    return path.replace(/\/+$/, '');
}
//# sourceMappingURL=path.js.map