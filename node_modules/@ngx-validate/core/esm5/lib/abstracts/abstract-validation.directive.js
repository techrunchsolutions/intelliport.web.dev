/**
 * @fileoverview added by tsickle
 * Generated from: lib/abstracts/abstract-validation.directive.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Directive, ElementRef, Injector, Input, } from '@angular/core';
import { merge, NEVER } from 'rxjs';
import { BLUEPRINTS } from '../constants';
import { VALIDATION_BLUEPRINTS, VALIDATION_ERROR_TEMPLATE, VALIDATION_INVALID_CLASSES, VALIDATION_MAP_ERRORS_FN, VALIDATION_TARGET_SELECTOR, VALIDATION_VALIDATE_ON_SUBMIT, } from '../tokens';
import { evalPropTruthy } from '../utils';
var AbstractValidationDirective = /** @class */ (function () {
    function AbstractValidationDirective(injector) {
        this.injector = injector;
        this.config = {
            blueprints: injector.get(VALIDATION_BLUEPRINTS),
            errorTemplate: injector.get(VALIDATION_ERROR_TEMPLATE),
            invalidClasses: injector.get(VALIDATION_INVALID_CLASSES),
            mapErrorsFn: injector.get(VALIDATION_MAP_ERRORS_FN),
            targetSelector: injector.get(VALIDATION_TARGET_SELECTOR),
            validateOnSubmit: injector.get(VALIDATION_VALIDATE_ON_SUBMIT),
        };
        this.elRef = injector.get(ElementRef);
    }
    Object.defineProperty(AbstractValidationDirective.prototype, "group", {
        get: /**
         * @return {?}
         */
        function () {
            return ((this.groupRef || ((/** @type {?} */ ({})))).form ||
                (this.groupName || ((/** @type {?} */ ({})))).control);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "parent", {
        get: /**
         * @return {?}
         */
        function () {
            return this.parentRef || { getStream: (/**
                 * @return {?}
                 */
                function () { return null; }) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "blueprints", {
        get: /**
         * @return {?}
         */
        function () {
            return tslib_1.__assign({}, BLUEPRINTS, (this._blueprints ||
                this.parent.blueprints ||
                this.config.blueprints ||
                {}));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "errorTemplate", {
        get: /**
         * @return {?}
         */
        function () {
            return (this._errorTemplate ||
                this.parent.errorTemplate ||
                this.config.errorTemplate);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "invalidClasses", {
        get: /**
         * @return {?}
         */
        function () {
            return (this._invalidClasses ||
                this.parent.invalidClasses ||
                this.config.invalidClasses);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "mapErrorsFn", {
        get: /**
         * @return {?}
         */
        function () {
            return (this._mapErrorsFn || this.parent.mapErrorsFn || this.config.mapErrorsFn);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "skipValidation", {
        get: /**
         * @return {?}
         */
        function () {
            return (evalPropTruthy(this._skipValidation) ||
                this.parent.skipValidation ||
                this.config.skipValidation);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "targetSelector", {
        get: /**
         * @return {?}
         */
        function () {
            return (this._targetSelector ||
                this.parent.targetSelector ||
                this.config.targetSelector);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AbstractValidationDirective.prototype, "validateOnSubmit", {
        get: /**
         * @return {?}
         */
        function () {
            return (evalPropTruthy(this._validateOnSubmit) ||
                this.parent.validateOnSubmit ||
                this.config.validateOnSubmit);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} streamName
     * @return {?}
     */
    AbstractValidationDirective.prototype.getStream = /**
     * @param {?} streamName
     * @return {?}
     */
    function (streamName) {
        return merge(this[streamName + '$']
            ? ((/** @type {?} */ (this[streamName + '$']))).asObservable()
            : NEVER, this.parent.getStream(streamName) || NEVER);
    };
    /**
     * @return {?}
     */
    AbstractValidationDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () { };
    AbstractValidationDirective.decorators = [
        { type: Directive, args: [{
                    /* tslint:disable-next-line */
                    selector: "abstractValidationDirective"
                },] }
    ];
    /** @nocollapse */
    AbstractValidationDirective.ctorParameters = function () { return [
        { type: Injector }
    ]; };
    AbstractValidationDirective.propDecorators = {
        _blueprints: [{ type: Input, args: ['blueprints',] }],
        _errorTemplate: [{ type: Input, args: ['errorTemplate',] }],
        _invalidClasses: [{ type: Input, args: ['invalidClasses',] }],
        _mapErrorsFn: [{ type: Input, args: ['mapErrorsFn',] }],
        _skipValidation: [{ type: Input, args: ['skipValidation',] }],
        _targetSelector: [{ type: Input, args: ['targetSelector',] }],
        _validateOnSubmit: [{ type: Input, args: ['validateOnSubmit',] }]
    };
    return AbstractValidationDirective;
}());
export { AbstractValidationDirective };
if (false) {
    /** @type {?} */
    AbstractValidationDirective.prototype._blueprints;
    /** @type {?} */
    AbstractValidationDirective.prototype._errorTemplate;
    /** @type {?} */
    AbstractValidationDirective.prototype._invalidClasses;
    /** @type {?} */
    AbstractValidationDirective.prototype._mapErrorsFn;
    /** @type {?} */
    AbstractValidationDirective.prototype._skipValidation;
    /** @type {?} */
    AbstractValidationDirective.prototype._targetSelector;
    /** @type {?} */
    AbstractValidationDirective.prototype._validateOnSubmit;
    /** @type {?} */
    AbstractValidationDirective.prototype.config;
    /** @type {?} */
    AbstractValidationDirective.prototype.elRef;
    /** @type {?} */
    AbstractValidationDirective.prototype.groupName;
    /** @type {?} */
    AbstractValidationDirective.prototype.groupRef;
    /** @type {?} */
    AbstractValidationDirective.prototype.parentRef;
    /** @type {?} */
    AbstractValidationDirective.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtdmFsaWRhdGlvbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Abmd4LXZhbGlkYXRlL2NvcmUvIiwic291cmNlcyI6WyJsaWIvYWJzdHJhY3RzL2Fic3RyYWN0LXZhbGlkYXRpb24uZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsVUFBVSxFQUNWLFFBQVEsRUFDUixLQUFLLEdBSU4sTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQTZCLE1BQU0sTUFBTSxDQUFDO0FBQy9ELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFHMUMsT0FBTyxFQUNMLHFCQUFxQixFQUNyQix5QkFBeUIsRUFDekIsMEJBQTBCLEVBQzFCLHdCQUF3QixFQUN4QiwwQkFBMEIsRUFDMUIsNkJBQTZCLEdBQzlCLE1BQU0sV0FBVyxDQUFDO0FBQ25CLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFMUM7SUFrR0UscUNBQW1CLFFBQWtCO1FBQWxCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbkMsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLFVBQVUsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO1lBQy9DLGFBQWEsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDO1lBQ3RELGNBQWMsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDO1lBQ3hELFdBQVcsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDO1lBQ25ELGNBQWMsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDO1lBQ3hELGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUM7U0FDOUQsQ0FBQztRQUNGLElBQUksQ0FBQyxLQUFLLEdBQUcs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QUFRLEVBQUUsNkJBQTZCO2lCQUN4Qzs7OztnQkF4QkMsUUFBUTs7OzhCQTBCUCxLQUFLLFNBQUMsWUFBWTtpQ0FHbEIsS0FBSyxTQUFDLGVBQWU7a0NBR3JCLEtBQUssU0FBQyxnQkFBZ0I7K0JBR3RCLEtBQUssU0FBQyxhQUFhO2tDQUduQixLQUFLLFNBQUMsZ0JBQWdCO2tDQUd0QixLQUFLLFNBQUMsZ0JBQWdCO29DQUd0QixLQUFLLFNBQUMsa0JBQWtCOztJQWlHM0Isa0NBQUM7Q0FBQSxBQXhIRCxJQXdIQztTQXBIWSwyQkFBMkI7OztJQUN0QyxrREFDbUM7O0lBRW5DLHFEQUM2Qzs7SUFFN0Msc0RBQ3dCOztJQUV4QixtREFDcUM7O0lBRXJDLHNEQUN5Qjs7SUFFekIsc0RBQ3dCOztJQUV4Qix3REFDMkI7O0lBcUUzQiw2Q0FBMEI7O0lBQzFCLDRDQUFrQjs7SUFDbEIsZ0RBQXlCOztJQUN6QiwrQ0FBNkI7O0lBQzdCLGdEQUFvQzs7SUFDeEIsK0NBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFbGVtZW50UmVmLFxuICBJbmplY3RvcixcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgVGVtcGxhdGVSZWYsXG4gIFR5cGUsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtR3JvdXBEaXJlY3RpdmUsIEZvcm1Hcm91cE5hbWUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBtZXJnZSwgTkVWRVIsIE9ic2VydmFibGUsIFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEJMVUVQUklOVFMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgVmFsaWRhdGlvbkdyb3VwRGlyZWN0aXZlIH0gZnJvbSAnLi4vZGlyZWN0aXZlcy92YWxpZGF0aW9uLWdyb3VwLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBWYWxpZGF0aW9uIH0gZnJvbSAnLi4vbW9kZWxzJztcbmltcG9ydCB7XG4gIFZBTElEQVRJT05fQkxVRVBSSU5UUyxcbiAgVkFMSURBVElPTl9FUlJPUl9URU1QTEFURSxcbiAgVkFMSURBVElPTl9JTlZBTElEX0NMQVNTRVMsXG4gIFZBTElEQVRJT05fTUFQX0VSUk9SU19GTixcbiAgVkFMSURBVElPTl9UQVJHRVRfU0VMRUNUT1IsXG4gIFZBTElEQVRJT05fVkFMSURBVEVfT05fU1VCTUlULFxufSBmcm9tICcuLi90b2tlbnMnO1xuaW1wb3J0IHsgZXZhbFByb3BUcnV0aHkgfSBmcm9tICcuLi91dGlscyc7XG5cbkBEaXJlY3RpdmUoe1xuICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgc2VsZWN0b3I6IFwiYWJzdHJhY3RWYWxpZGF0aW9uRGlyZWN0aXZlXCJcbn0pXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RWYWxpZGF0aW9uRGlyZWN0aXZlIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgQElucHV0KCdibHVlcHJpbnRzJylcbiAgX2JsdWVwcmludHM6IFZhbGlkYXRpb24uQmx1ZXByaW50cztcblxuICBASW5wdXQoJ2Vycm9yVGVtcGxhdGUnKVxuICBfZXJyb3JUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PiB8IFR5cGU8YW55PjtcblxuICBASW5wdXQoJ2ludmFsaWRDbGFzc2VzJylcbiAgX2ludmFsaWRDbGFzc2VzOiBzdHJpbmc7XG5cbiAgQElucHV0KCdtYXBFcnJvcnNGbicpXG4gIF9tYXBFcnJvcnNGbjogVmFsaWRhdGlvbi5NYXBFcnJvcnNGbjtcblxuICBASW5wdXQoJ3NraXBWYWxpZGF0aW9uJylcbiAgX3NraXBWYWxpZGF0aW9uOiBib29sZWFuO1xuXG4gIEBJbnB1dCgndGFyZ2V0U2VsZWN0b3InKVxuICBfdGFyZ2V0U2VsZWN0b3I6IHN0cmluZztcblxuICBASW5wdXQoJ3ZhbGlkYXRlT25TdWJtaXQnKVxuICBfdmFsaWRhdGVPblN1Ym1pdDogYm9vbGVhbjtcblxuICBnZXQgZ3JvdXAoKTogRm9ybUdyb3VwIHtcbiAgICByZXR1cm4gKFxuICAgICAgKHRoaXMuZ3JvdXBSZWYgfHwgKHt9IGFzIEZvcm1Hcm91cERpcmVjdGl2ZSkpLmZvcm0gfHxcbiAgICAgICh0aGlzLmdyb3VwTmFtZSB8fCAoe30gYXMgRm9ybUdyb3VwTmFtZSkpLmNvbnRyb2xcbiAgICApO1xuICB9XG5cbiAgZ2V0IHBhcmVudCgpOiBQYXJ0aWFsPFZhbGlkYXRpb25Hcm91cERpcmVjdGl2ZT4ge1xuICAgIHJldHVybiB0aGlzLnBhcmVudFJlZiB8fCB7IGdldFN0cmVhbTogKCkgPT4gbnVsbCB9O1xuICB9XG5cbiAgZ2V0IGJsdWVwcmludHMoKTogVmFsaWRhdGlvbi5CbHVlcHJpbnRzIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uQkxVRVBSSU5UUyxcbiAgICAgIC4uLih0aGlzLl9ibHVlcHJpbnRzIHx8XG4gICAgICAgIHRoaXMucGFyZW50LmJsdWVwcmludHMgfHxcbiAgICAgICAgdGhpcy5jb25maWcuYmx1ZXByaW50cyB8fFxuICAgICAgICB7fSksXG4gICAgfTtcbiAgfVxuXG4gIGdldCBlcnJvclRlbXBsYXRlKCk6IFRlbXBsYXRlUmVmPGFueT4gfCBUeXBlPGFueT4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9lcnJvclRlbXBsYXRlIHx8XG4gICAgICB0aGlzLnBhcmVudC5lcnJvclRlbXBsYXRlIHx8XG4gICAgICB0aGlzLmNvbmZpZy5lcnJvclRlbXBsYXRlXG4gICAgKTtcbiAgfVxuXG4gIGdldCBpbnZhbGlkQ2xhc3NlcygpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9pbnZhbGlkQ2xhc3NlcyB8fFxuICAgICAgdGhpcy5wYXJlbnQuaW52YWxpZENsYXNzZXMgfHxcbiAgICAgIHRoaXMuY29uZmlnLmludmFsaWRDbGFzc2VzXG4gICAgKTtcbiAgfVxuXG4gIGdldCBtYXBFcnJvcnNGbigpOiBWYWxpZGF0aW9uLk1hcEVycm9yc0ZuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fbWFwRXJyb3JzRm4gfHwgdGhpcy5wYXJlbnQubWFwRXJyb3JzRm4gfHwgdGhpcy5jb25maWcubWFwRXJyb3JzRm5cbiAgICApO1xuICB9XG5cbiAgZ2V0IHNraXBWYWxpZGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBldmFsUHJvcFRydXRoeSh0aGlzLl9za2lwVmFsaWRhdGlvbikgfHxcbiAgICAgIHRoaXMucGFyZW50LnNraXBWYWxpZGF0aW9uIHx8XG4gICAgICB0aGlzLmNvbmZpZy5za2lwVmFsaWRhdGlvblxuICAgICk7XG4gIH1cblxuICBnZXQgdGFyZ2V0U2VsZWN0b3IoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fdGFyZ2V0U2VsZWN0b3IgfHxcbiAgICAgIHRoaXMucGFyZW50LnRhcmdldFNlbGVjdG9yIHx8XG4gICAgICB0aGlzLmNvbmZpZy50YXJnZXRTZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBnZXQgdmFsaWRhdGVPblN1Ym1pdCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgZXZhbFByb3BUcnV0aHkodGhpcy5fdmFsaWRhdGVPblN1Ym1pdCkgfHxcbiAgICAgIHRoaXMucGFyZW50LnZhbGlkYXRlT25TdWJtaXQgfHxcbiAgICAgIHRoaXMuY29uZmlnLnZhbGlkYXRlT25TdWJtaXRcbiAgICApO1xuICB9XG5cbiAgY29uZmlnOiBWYWxpZGF0aW9uLkNvbmZpZztcbiAgZWxSZWY6IEVsZW1lbnRSZWY7XG4gIGdyb3VwTmFtZTogRm9ybUdyb3VwTmFtZTtcbiAgZ3JvdXBSZWY6IEZvcm1Hcm91cERpcmVjdGl2ZTtcbiAgcGFyZW50UmVmOiBWYWxpZGF0aW9uR3JvdXBEaXJlY3RpdmU7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBpbmplY3RvcjogSW5qZWN0b3IpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGJsdWVwcmludHM6IGluamVjdG9yLmdldChWQUxJREFUSU9OX0JMVUVQUklOVFMpLFxuICAgICAgZXJyb3JUZW1wbGF0ZTogaW5qZWN0b3IuZ2V0KFZBTElEQVRJT05fRVJST1JfVEVNUExBVEUpLFxuICAgICAgaW52YWxpZENsYXNzZXM6IGluamVjdG9yLmdldChWQUxJREFUSU9OX0lOVkFMSURfQ0xBU1NFUyksXG4gICAgICBtYXBFcnJvcnNGbjogaW5qZWN0b3IuZ2V0KFZBTElEQVRJT05fTUFQX0VSUk9SU19GTiksXG4gICAgICB0YXJnZXRTZWxlY3RvcjogaW5qZWN0b3IuZ2V0KFZBTElEQVRJT05fVEFSR0VUX1NFTEVDVE9SKSxcbiAgICAgIHZhbGlkYXRlT25TdWJtaXQ6IGluamVjdG9yLmdldChWQUxJREFUSU9OX1ZBTElEQVRFX09OX1NVQk1JVCksXG4gICAgfTtcbiAgICB0aGlzLmVsUmVmID0gaW5qZWN0b3IuZ2V0KEVsZW1lbnRSZWYpO1xuICB9XG5cbiAgZ2V0U3RyZWFtKHN0cmVhbU5hbWU6IFZhbGlkYXRpb24uU3RyZWFtTmFtZSk6IE9ic2VydmFibGU8Rm9ybUdyb3VwPiB7XG4gICAgcmV0dXJuIG1lcmdlKFxuICAgICAgdGhpc1tzdHJlYW1OYW1lICsgJyQnXVxuICAgICAgICA/ICh0aGlzW3N0cmVhbU5hbWUgKyAnJCddIGFzIFJlcGxheVN1YmplY3Q8Rm9ybUdyb3VwPikuYXNPYnNlcnZhYmxlKClcbiAgICAgICAgOiBORVZFUixcbiAgICAgIHRoaXMucGFyZW50LmdldFN0cmVhbShzdHJlYW1OYW1lKSB8fCBORVZFUixcbiAgICApO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7fVxufVxuIl19