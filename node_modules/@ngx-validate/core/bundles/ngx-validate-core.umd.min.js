!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@ngx-validate/core",["exports","@angular/core","rxjs","rxjs/operators","@angular/common","@angular/forms"],t):t(((e=e||self)["ngx-validate"]=e["ngx-validate"]||{},e["ngx-validate"].core={}),e.ng.core,e.rxjs,e.rxjs.operators,e.ng.common,e.ng.forms)}(this,(function(e,t,r,n,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}var c={email:"Please enter a valid email address.",max:"Max. value should be {{ max }}. ({{ actual }} entered)",maxlength:"Max. {{ requiredLength }} characters are allowed. (has {{ actualLength }})",min:"Min. value should be {{ min }}. ({{ actual }} entered)",minlength:"Min. {{ requiredLength }} characters are required. (has {{ actualLength }})",pattern:"Invalid pattern. Please review your input.",required:"This field is required.",passwordMismatch:"Passwords do not match.",invalidPassword:"Password should include {{ description }}."},p=new t.InjectionToken("validation.blueprints"),f=new t.InjectionToken("validation.error.template"),d=new t.InjectionToken("validation.invalid.classes"),m=new t.InjectionToken("validation.map.errors.fn"),g=new t.InjectionToken("validation.target.selector"),y=new t.InjectionToken("validation.validate.on.submit");function v(e){return e||"string"==typeof e}var h={"á":"a","Á":"A","À":"A","à":"a","Ă":"A","ă":"a","Ắ":"A","ắ":"a","ằ":"a","Ằ":"A","Ẵ":"A","ẵ":"a","ẳ":"a","Ẳ":"A","â":"a","Â":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ǎ":"a","Ǎ":"A","å":"a","Å":"A","Ǻ":"A","ǻ":"a","ä":"a","Ä":"A","a̋":"a","A̋":"A","Ã":"A","ã":"a","A̧":"A","a̧":"a","Ą":"A","ą":"a","ā":"a","Ā":"A","ȁ":"a","Ȁ":"A","ȃ":"a","Ȃ":"A","Ặ":"A","ặ":"a","æ":"a","Æ":"A","Ǽ":"A","ǽ":"a","b̌":"b","B̌":"B","b̧":"b","B̧":"B","ć":"c","Ć":"C","c̆":"c","C̆":"C","ĉ":"c","Ĉ":"C","č":"c","Č":"C","ċ":"c","Ċ":"C","Ç":"C","ç":"c","Ḉ":"C","ḉ":"c","č̣":"c","Č̣":"C","Ď":"D","ď":"d","ḑ":"d","Ḑ":"D","đ":"d","Đ":"D","Ð":"D","ð":"d","É":"E","é":"e","È":"E","è":"e","Ĕ":"E","ĕ":"e","ê":"e","Ê":"E","Ế":"E","ế":"e","ề":"e","Ề":"E","Ê̌":"E","ê̌":"e","Ě":"E","ě":"e","ë":"e","Ë":"E","e̋":"e","E̋":"E","Ė":"E","ė":"e","Ȩ":"E","ȩ":"e","ḝ":"e","Ḝ":"E","Ę":"E","ę":"e","Ē":"E","ē":"e","Ḗ":"E","ḗ":"e","Ḕ":"E","ḕ":"e","Ȅ":"E","ȅ":"e","Ȇ":"E","ȇ":"e","ɛ̧":"e","Ɛ̧":"E","f̌":"f","F̌":"F","ƒ":"f","ǵ":"g","Ǵ":"G","ğ":"g","Ğ":"G","Ĝ":"G","ĝ":"g","ǧ":"g","Ǧ":"G","Ġ":"G","ġ":"g","ģ":"g","Ģ":"G","Ĥ":"H","ĥ":"h","ȟ":"h","Ȟ":"H","ḩ":"h","Ḩ":"H","ħ":"h","Ħ":"H","ḫ":"h","Ḫ":"H","í":"i","Í":"I","Ì":"I","ì":"i","Ĭ":"I","ĭ":"i","Î":"I","î":"i","ǐ":"i","Ǐ":"I","ï":"i","Ï":"I","ḯ":"i","Ḯ":"I","I̋":"I","i̋":"i","ĩ":"i","Ĩ":"I","İ":"I","I̧":"I","i̧":"i","Į":"I","į":"i","ī":"i","Ī":"I","ȉ":"i","Ȉ":"I","ȋ":"i","Ȋ":"I","ĳ":"i","Ĳ":"I","ı":"i","Ɨ̧":"I","ɨ̧":"i","ĵ":"j","Ĵ":"J","ǰ":"j","J̌":"J","Ḱ":"K","ḱ":"k","k̆":"k","K̆":"K","ǩ":"k","Ǩ":"K","ķ":"k","Ķ":"K","Ĺ":"L","ĺ":"l","Ľ":"L","ľ":"l","ļ":"l","Ļ":"L","ł":"l","Ł":"l","Ŀ":"L","ŀ":"l","Ḿ":"M","ḿ":"m","m̆":"m","M̆":"M","m̌":"m","M̌":"M","M̧":"M","m̧":"m","Ń":"N","ń":"n","Ǹ":"N","ǹ":"n","n̆":"n","N̆":"N","Ň":"N","ň":"n","ñ":"n","Ñ":"N","Ņ":"N","ņ":"n","ó":"o","Ó":"O","Ò":"O","ò":"o","Ŏ":"O","ŏ":"o","Ô":"O","ô":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","Ǒ":"O","ǒ":"o","Ö":"O","ö":"o","ő":"o","Ő":"O","Õ":"O","õ":"o","ṍ":"o","Ṍ":"O","Ø":"O","ø":"o","Ǿ":"O","ǿ":"o","o̧":"o","O̧":"O","Ō":"O","ō":"o","ṓ":"o","Ṓ":"O","ṑ":"o","Ṑ":"O","ȍ":"o","Ȍ":"O","ȏ":"o","Ȏ":"O","ơ":"o","Ơ":"O","œ":"o","Œ":"O","ṕ":"p","Ṕ":"P","p̆":"p","P̆":"P","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Q̧":"Q","q̧":"q","ŕ":"r","Ŕ":"R","r̆":"r","R̆":"R","Ř":"R","ř":"r","ŗ":"r","Ŗ":"R","Ř̩":"R","ř̩":"r","ȑ":"r","Ȑ":"R","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ṥ":"S","ṥ":"s","Ŝ":"S","ŝ":"s","š":"s","Š":"S","Ṧ":"S","ṧ":"s","ş":"s","Ş":"S","ș":"s","Ș":"S","ſ":"s","T̆":"T","t̆":"t","Ť":"T","ť":"t","ţ":"t","Ţ":"T","Ț":"T","ț":"t","ŧ":"t","Ŧ":"T","Ú":"U","ú":"u","ù":"u","Ù":"U","ŭ":"u","Ŭ":"U","Û":"U","û":"u","ǔ":"u","Ǔ":"U","Ů":"U","ů":"u","ü":"u","Ü":"U","ǘ":"u","Ǘ":"U","Ǜ":"U","ǜ":"u","ǚ":"u","Ǚ":"U","ǖ":"u","Ǖ":"U","Ű":"U","ű":"u","ũ":"u","Ũ":"U","Ṹ":"U","ṹ":"u","u̧":"u","U̧":"U","Ų":"U","ų":"u","Ū":"U","ū":"u","ȕ":"u","Ȕ":"U","Ȗ":"U","ȗ":"u","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","V̆":"V","v̆":"v","v̌":"v","V̌":"V","Ẃ":"W","ẃ":"w","Ẁ":"W","ẁ":"w","ŵ":"w","Ŵ":"W","W̌":"W","w̌":"w","x́":"x","X́":"X","X̆":"X","x̆":"x","x̌":"x","X̌":"X","X̧":"X","x̧":"x","Ý":"Y","ý":"y","Ỳ":"Y","ỳ":"y","y̆":"y","Y̆":"Y","Ŷ":"Y","ŷ":"y","y̌":"y","Y̌":"Y","ÿ":"y","Ÿ":"Y","ź":"z","Ź":"Z","Ž":"Z","ž":"z","Ż":"Z","ż":"z","Z̧":"Z","z̧":"z"};function b(e){return"{{\\s*("+e+")\\s*}}"}function O(e,t,r){if("string"!=typeof e)return"";if("object"!=typeof t)return e;var n=Object.keys(t).join("|"),o=new RegExp(r?b(n):n,"g");return e.replace(o,(function(e){return String(r?t[e.replace(/\{\{\s*|\s*\}\}/g,"")]:t[e])}))}function R(e){return O(e,h)}function E(e){return e.reduce((function(e,t,r,n){var o=n.length;return e+(r?o<3?" and ":r===o-1?", and ":", ":"")+t}),"")}function S(e,t,r){return{key:e,params:t,message:O(r,t,!0)}}var C=function(e){return e};var A=function(){function e(e){this.injector=e,this.config={blueprints:e.get(p),errorTemplate:e.get(f),invalidClasses:e.get(d),mapErrorsFn:e.get(m),targetSelector:e.get(g),validateOnSubmit:e.get(y)},this.elRef=e.get(t.ElementRef)}return Object.defineProperty(e.prototype,"group",{get:function(){return(this.groupRef||{}).form||(this.groupName||{}).control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentRef||{getStream:function(){return null}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blueprints",{get:function(){return u({},c,this._blueprints||this.parent.blueprints||this.config.blueprints||{})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorTemplate",{get:function(){return this._errorTemplate||this.parent.errorTemplate||this.config.errorTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalidClasses",{get:function(){return this._invalidClasses||this.parent.invalidClasses||this.config.invalidClasses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapErrorsFn",{get:function(){return this._mapErrorsFn||this.parent.mapErrorsFn||this.config.mapErrorsFn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipValidation",{get:function(){return v(this._skipValidation)||this.parent.skipValidation||this.config.skipValidation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetSelector",{get:function(){return this._targetSelector||this.parent.targetSelector||this.config.targetSelector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validateOnSubmit",{get:function(){return v(this._validateOnSubmit)||this.parent.validateOnSubmit||this.config.validateOnSubmit},enumerable:!0,configurable:!0}),e.prototype.getStream=function(e){return r.merge(this[e+"$"]?this[e+"$"].asObservable():r.NEVER,this.parent.getStream(e)||r.NEVER)},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:t.Directive,args:[{selector:"abstractValidationDirective"}]}],e.ctorParameters=function(){return[{type:t.Injector}]},e.propDecorators={_blueprints:[{type:t.Input,args:["blueprints"]}],_errorTemplate:[{type:t.Input,args:["errorTemplate"]}],_invalidClasses:[{type:t.Input,args:["invalidClasses"]}],_mapErrorsFn:[{type:t.Input,args:["mapErrorsFn"]}],_skipValidation:[{type:t.Input,args:["skipValidation"]}],_targetSelector:[{type:t.Input,args:["targetSelector"]}],_validateOnSubmit:[{type:t.Input,args:["validateOnSubmit"]}]},e}();var I=function(){function e(){this.trackByFn=function(e,t){return t.key}}return Object.defineProperty(e.prototype,"errors",{get:function(){return this.validationErrors||[]},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"validation-error",template:'\n    <div *ngFor="let error of errors; trackBy: trackByFn" class="invalid-feedback">{{ error.message }}</div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],e}();var T=function(){function e(e){this.vcRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"[validationTarget]",exportAs:"validationTarget"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e}();var k=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:"[validationContainer]",exportAs:"validationContainer"}]}],e.propDecorators={targetRef:[{type:t.ContentChild,args:[T,{static:!1}]}]},e}();var V=function(e){function n(t,n,o,i,a){var s=e.call(this,t)||this;return s.injector=t,s.cdRef=n,s.groupName=o,s.groupRef=i,s.parentRef=a,s.status$=new r.ReplaySubject(1),s.submit$=new r.ReplaySubject(1),s.value$=new r.ReplaySubject(1),s.subs=new r.Subscription,s}return s(n,e),n.prototype.subscribeToFormSubmit=function(){var e=this;this.elRef.nativeElement.onsubmit=function(t){e.group.invalid&&t.preventDefault(),e.submit$.next(e.group),e.cdRef.markForCheck()}},n.prototype.subscribeToStatusChanges=function(){var e=this;this.subs.add(this.group.statusChanges.subscribe((function(){e.status$.next(e.group),e.cdRef.markForCheck()})))},n.prototype.subscribeToValueChanges=function(){var e=this;this.subs.add(this.group.valueChanges.subscribe((function(){e.value$.next(e.group),e.cdRef.markForCheck()})))},n.prototype.ngAfterViewInit=function(){this.parentRef||this.subscribeToFormSubmit(),this.subscribeToStatusChanges(),this.subscribeToValueChanges()},n.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},n.decorators=[{type:t.Directive,args:[{selector:"[formGroup],[formGroupName]",exportAs:"validationGroup"}]}],n.ctorParameters=function(){return[{type:t.Injector},{type:t.ChangeDetectorRef},{type:i.FormGroupName,decorators:[{type:t.Optional},{type:t.Self}]},{type:i.FormGroupDirective,decorators:[{type:t.Optional},{type:t.Self}]},{type:n,decorators:[{type:t.Optional},{type:t.SkipSelf}]}]},n}(A);var j=function(){function e(e){this.elRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"[validationStyle]",exportAs:"validationStyle"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e}();var D=function(e){function o(t,n,o,i,a,s,u,l,c,p,f){var d=e.call(this,t)||this;return d.injector=t,d.cdRef=n,d.cfRes=o,d.control=i,d.renderer=a,d.vcRef=s,d.parentRef=u,d.markRef=l,d.targetRef=c,d.containerRef=p,d.formGroupDirective=f,d.isSubmitted=!1,d.subscriptions=new r.Subscription,d}return s(o,e),Object.defineProperty(o.prototype,"validation$",{get:function(){return r.merge(this.parent.getStream("status").pipe(n.mapTo(null)),this.parent.getStream("value").pipe(n.mapTo(null)),this.parent.getStream("submit"))},enumerable:!0,configurable:!0}),o.prototype.buildErrors=function(e){var t=this;return Object.keys(e||{}).map((function(r){return S(r,e[r],t.blueprints[r])}))},o.prototype.insertErrorClasses=function(){this.renderer.addClass(this.markElement,this.invalidClasses)},o.prototype.insertErrors=function(e){var r=this.errorTemplate,n=this.containerRef?this.containerRef.targetRef:this.targetRef,o=n?n.vcRef:this.vcRef;this.errorRef=r instanceof t.TemplateRef?o.createEmbeddedView(r,{$implicit:e},o.length):o.createComponent(this.cfRes.resolveComponentFactory(r),o.length,this.injector),this.errorRef instanceof t.ComponentRef&&this.errorRef.instance&&(this.errorRef.instance.validationErrors=e)},o.prototype.removeErrorClasses=function(){this.renderer.removeClass(this.markElement,this.invalidClasses)},o.prototype.removeErrors=function(){this.errorRef&&(this.errorRef.destroy(),this.errorRef=null)},o.prototype.setMarkElement=function(){this.markElement=(this.markRef?this.markRef.elRef.nativeElement:this.targetSelector?this.elRef.nativeElement.closest(this.targetSelector):null)||this.elRef.nativeElement},o.prototype.shouldValidate=function(e){return e.length&&this.control.dirty&&(!this.validateOnSubmit||this.isSubmitted)},o.prototype.subscribeToValidation=function(){var e,t=this;this.subscriptions.add(this.validation$.pipe(n.filter((function(){return!t.skipValidation})),n.tap((function(e){e&&t.formGroupDirective.submitted&&(t.control.control.markAsDirty(),t.isSubmitted=!0)})),n.map((function(){return t.mapErrorsFn(t.buildErrors(t.control.errors),t.buildErrors((t.parentRef.group||{}).errors),t.control)}))).subscribe((function(r){e!==JSON.stringify(r)&&(t.removeErrors(),t.shouldValidate(r)?(t.insertErrors(r),e||t.insertErrorClasses(),e=JSON.stringify(r)):(t.removeErrorClasses(),e=""),t.cdRef.markForCheck())})))},o.prototype.ngAfterViewInit=function(){this.setMarkElement(),this.subscribeToValidation()},o.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},o.decorators=[{type:t.Directive,args:[{selector:"[formControl],[formControlName]",exportAs:"validationDirective"}]}],o.ctorParameters=function(){return[{type:t.Injector},{type:t.ChangeDetectorRef},{type:t.ComponentFactoryResolver},{type:i.NgControl,decorators:[{type:t.Self}]},{type:t.Renderer2},{type:t.ViewContainerRef},{type:V,decorators:[{type:t.SkipSelf}]},{type:j,decorators:[{type:t.Optional},{type:t.SkipSelf}]},{type:T,decorators:[{type:t.Optional},{type:t.SkipSelf}]},{type:k,decorators:[{type:t.Optional}]},{type:i.FormGroupDirective,decorators:[{type:t.Optional}]}]},o}(A);var P,x=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:p,useValue:t.blueprints||c},{provide:f,useValue:t.errorTemplate||I},{provide:d,useValue:t.invalidClasses||"is-invalid"},{provide:m,useValue:t.mapErrorsFn||C},{provide:g,useValue:t.targetSelector},{provide:y,useValue:t.validateOnSubmit}]}},e.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule,i.FormsModule,i.ReactiveFormsModule],exports:[k,V,j,T,D],declarations:[I,A,k,V,j,T,D],entryComponents:[I]}]}],e}();!function(e){function t(){}e.Blueprints=function(){},e.ParamMap=function(){},e.Error=t}(P||(P={})),e.AbstractValidationDirective=A,e.BLUEPRINTS=c,e.NgxValidateCoreModule=x,e.VALIDATION_BLUEPRINTS=p,e.VALIDATION_ERROR_TEMPLATE=f,e.VALIDATION_INVALID_CLASSES=d,e.VALIDATION_MAP_ERRORS_FN=m,e.VALIDATION_TARGET_SELECTOR=g,e.VALIDATION_VALIDATE_ON_SUBMIT=y,e.ValidationContainerDirective=k,e.ValidationDirective=D,e.ValidationErrorComponent=I,e.ValidationGroupDirective=V,e.ValidationStyleDirective=j,e.ValidationTargetDirective=T,e.addCommas=E,e.comparePasswords=function(e){var t=l(e,2),r=t[0],n=t[1];return function(e){var t=e.get(r).value,o=e.get(n).value;return t&&o&&t!==o?{passwordMismatch:{fields:[r,n]}}:null}},e.defaultMapErrorsFn=C,e.evalPropTruthy=v,e.generateValidationError=S,e.interpolate=b,e.mapReplace=O,e.normalizeDiacritics=R,e.takeUntilDestroy=function(e){var t=Object.getPrototypeOf(e),o=t.ngOnDestroy,i=new r.Subject;return t.ngOnDestroy=function(){o.apply(this,arguments),i.next(),i.complete()},n.takeUntil(i)},e.validatePassword=function(e){return void 0===e&&(e=["small","capital","number","special"]),function(t){if(!t.value)return null;var r=R(t.value),n={small:/.*[a-z].*/,capital:/.*[A-Z].*/,number:/.*[0-9].*/,special:/.*[^0-9a-zA-Z].*/},o=e.filter((function(e){return!n[e].test(r)}));return o.length?{invalidPassword:{missing:o,description:E(o.map((function(e){return{small:"a small letter",capital:"a capital",number:"a number",special:"a special character"}[e]})))}}:null}},e.ɵa=k,e.ɵb=T,e.ɵc=V,e.ɵd=A,e.ɵe=j,e.ɵf=D,e.ɵg=I,e.ɵh=A,e.ɵi=p,e.ɵj=c,e.ɵk=f,e.ɵl=d,e.ɵm=m,e.ɵn=C,e.ɵo=g,e.ɵp=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-validate-core.umd.min.js.map